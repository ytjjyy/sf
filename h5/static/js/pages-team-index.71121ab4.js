(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-team-index"],{"0705":function(t,e,n){var a=n("e9f4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("adcccfe0",a,!0,{sourceMap:!1,shadowMode:!1})},1521:function(t,e,n){"use strict";n.r(e);var a=n("6d9a"),i=n("77bd");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("8dc5");var r,s=n("f0c5"),l=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"72ab85d4",null,!1,a["a"],r);e["default"]=l.exports},"38ea":function(t,e,n){"use strict";var a=n("4ea4");n("4160"),n("4ec9"),n("d3b7"),n("acd8"),n("e25e"),n("3ca3"),n("159b"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5819")),o={data:function(){return{agentId:"",roleId:"",status:"loadmore",dataList:[],total:5,currentPage:1,pageSize:5,loadText:{loadmore:"点击或上拉加载更多",loading:"努力加载中",nomore:"没有更多数据"}}},onShow:function(){try{var t=uni.getStorageSync("token"),e=uni.getStorageSync("role_id"),n=uni.getStorageSync("user_id");t&&e&&n?(this.roleId=e,this.agentId=n):uni.reLaunch({url:"../public/login"})}catch(a){}this.resetLoad(),this.loadmore()},onPullDownRefresh:function(){this.resetLoad(),this.loadmore(),uni.stopPullDownRefresh()},onReachBottom:function(){this.loadmore()},methods:{loadmore:function(){this.status="loading",this.loadDataList()},resetLoad:function(){this.status="loadmore",this.dataList=[],this.currentPage=1,this.pageSize=5},loadDataList:function(){var t=this;uni.showLoading({title:"数据加载中...",mask:!0}),this.$u.api.getTeamList({role_id:this.roleId,currentPage:this.currentPage,pageSize:this.pageSize}).then((function(e){var n=e.data.channel,a=new Map;if(n.forEach((function(t){a.set(t.id,t.name)})),t.dataList.length<=0&&(t.total=e.data.pagination.total),null!=e.data.result){var o=e.data.result;o.forEach((function(e){var n={};if(n.userId=e.user.id,n.userName=e.user.username,n.userStatus=e.user.status,n.noChain=!0,null!=e.chain){n.noChain=!1;var o=[],r=e.chain;r.forEach((function(t){var e={};e.channelId=t.channel_id,e.channelName=a.get(t.channel_id),e.channelRate=t.rate,e.channelFee=parseFloat(t.fee).toFixed(2),e.channelMax=parseInt(t.max),e.channelMin=parseInt(t.min),e.channelUpdate=(0,i.default)(t.updated_at).format("YYYY-MM-DD HH:mm:ss"),o.push(e)})),n.channelList=o}t.dataList.push(n)})),t.currentPage+=1,t.total=t.total-e.data.result.length,t.status="loadmore"}else t.status="nomore"})).catch((function(t){uni.showToast({icon:"none",title:t.message?t.message:"获取下级列表异常,请稍后重试",duration:2e3})}))},clickTeam:function(t){uni.navigateTo({url:"./teamEdit?userId="+t,animationType:"pop-in",animationDuration:200})}}};e.default=o},"4ec9":function(t,e,n){"use strict";var a=n("6d61"),i=n("6566");t.exports=a("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,n){"use strict";var a=n("9bf2").f,i=n("7c73"),o=n("e2cc"),r=n("0366"),s=n("19aa"),l=n("2266"),u=n("7dd0"),c=n("2626"),d=n("83ab"),f=n("f183").fastKey,v=n("69f3"),h=v.set,p=v.getterFor;t.exports={getConstructor:function(t,e,n,u){var c=t((function(t,a){s(t,c,e),h(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=a&&l(a,t[u],t,n)})),v=p(e),b=function(t,e,n){var a,i,o=v(t),r=m(t,e);return r?r.value=n:(o.last=r={index:i=f(e,!0),key:e,value:n,previous:a=o.last,next:void 0,removed:!1},o.first||(o.first=r),a&&(a.next=r),d?o.size++:t.size++,"F"!==i&&(o.index[i]=r)),t},m=function(t,e){var n,a=v(t),i=f(e);if("F"!==i)return a.index[i];for(n=a.first;n;n=n.next)if(n.key==e)return n};return o(c.prototype,{clear:function(){var t=this,e=v(t),n=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=v(e),a=m(e,t);if(a){var i=a.next,o=a.previous;delete n.index[a.index],a.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==a&&(n.first=i),n.last==a&&(n.last=o),d?n.size--:e.size--}return!!a},forEach:function(t){var e,n=v(this),a=r(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),o(c.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),d&&a(c.prototype,"size",{get:function(){return v(this).size}}),c},setStrong:function(t,e,n){var a=e+" Iterator",i=p(e),o=p(a);u(t,e,(function(t,e){h(this,{type:a,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},"6d61":function(t,e,n){"use strict";var a=n("23e7"),i=n("da84"),o=n("94ca"),r=n("6eeb"),s=n("f183"),l=n("2266"),u=n("19aa"),c=n("861d"),d=n("d039"),f=n("1c7e"),v=n("d44e"),h=n("7156");t.exports=function(t,e,n){var p=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=p?"set":"add",g=i[t],x=g&&g.prototype,_=g,w={},y=function(t){var e=x[t];r(x,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof g||!(b||x.forEach&&!d((function(){(new g).entries().next()})))))_=n.getConstructor(e,t,p,m),s.REQUIRED=!0;else if(o(t,!0)){var k=new _,C=k[m](b?{}:-0,1)!=k,z=d((function(){k.has(1)})),E=f((function(t){new g(t)})),I=!b&&d((function(){var t=new g,e=5;while(e--)t[m](e,e);return!t.has(-0)}));E||(_=e((function(e,n){u(e,_,t);var a=h(new g,e,_);return void 0!=n&&l(n,a[m],a,p),a})),_.prototype=x,x.constructor=_),(z||I)&&(y("delete"),y("has"),p&&y("get")),(I||C)&&y(m),b&&x.clear&&delete x.clear}return w[t]=_,a({global:!0,forced:_!=g},w),v(_,t),b||n.setStrong(_,t,p),_}},"6d9a":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uLoadmore:n("d9d4").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("cu-custom",{attrs:{bgColor:"bg-gradual-orange",isBack:!0}},[n("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),n("template",{attrs:{slot:"content"},slot:"content"},[t._v("下级管理")])],2),n("v-uni-view",{staticClass:"main_wrap"},[t._l(t.dataList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"item_box",style:[{animation:"show "+(.2*(a+1)+1)+"s 1"}],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickTeam(e.userId)}}},[n("v-uni-view",{staticClass:"channel_user_box"},[n("v-uni-view",{staticClass:"channel_label"},[t._v("账号："+t._s(e.userName))]),n("v-uni-view",{staticClass:"channel_label",class:1==e.status?"text-green text-bold":"text-red text-bold"},[t._v(t._s(1==e.status?"正 常":"停 用"))])],1),t._l(e.channelList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"channel_info_box"},[n("v-uni-view",{staticClass:"channel_label"},[t._v("通道名称："+t._s(e.channelName))]),n("v-uni-view",{staticClass:"channel_label"},[t._v("通道费率："+t._s(e.channelRate))]),n("v-uni-view",{staticClass:"channel_label"},[t._v("通道手续费："+t._s(e.channelFee))]),n("v-uni-view",{staticClass:"channel_label"},[t._v("最小值："+t._s(e.channelMax))]),n("v-uni-view",{staticClass:"channel_label"},[t._v("最大值："+t._s(e.channelMin))]),n("v-uni-view",{staticClass:"channel_label"},[t._v("更新时间："+t._s(e.channelUpdate))])],1)})),e.noChain?n("v-uni-view",{staticClass:"no_chain text-orange"},[t._v("未配置费率，点击新增")]):t._e()],2)})),n("v-uni-view",{staticClass:"load_more"},[n("u-loadmore",{attrs:{status:t.status,"load-text":t.loadText,"bg-color":"#f1f1f1"},on:{loadmore:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore.apply(void 0,arguments)}}})],1)],2)],1)},o=[]},"77bd":function(t,e,n){"use strict";n.r(e);var a=n("38ea"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"8dc5":function(t,e,n){"use strict";var a=n("0705"),i=n.n(a);i.a},bb2f:function(t,e,n){var a=n("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},e9f4:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".main_wrap[data-v-72ab85d4]{margin:%?20?% %?10?%;font-size:%?26?%}.item_box[data-v-72ab85d4]{display:flex;flex-direction:column;background-color:#fff;border-radius:%?15?%;padding:%?30?%;box-shadow:%?1?% %?6?% %?16?% rgba(0,0,0,.1);margin-bottom:%?15?%}.item_content[data-v-72ab85d4]{display:flex;flex-direction:row}.item_label[data-v-72ab85d4]{flex:1;width:100%;display:flex;align-items:center;margin:%?5?%}.item_label uni-text[data-v-72ab85d4]{width:70%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.item_edit[data-v-72ab85d4]{display:flex;flex-direction:row;align-items:center;margin-top:%?30?%}.item_btn[data-v-72ab85d4]{width:%?120?%;height:%?58?%;display:flex;align-items:center;justify-content:center;font-size:%?26?%}.channel_user_box[data-v-72ab85d4]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:0 %?20?%;margin-bottom:%?10?%;font-size:%?28?%}.channel_info_box[data-v-72ab85d4]{border-radius:5px;background:rgba(0,102,204,.6);box-shadow:%?4?% %?4?% %?10?% rgba(0,102,204,.3);padding:%?20?%;display:flex;flex-direction:column;justify-content:center;color:#fff;margin-bottom:%?10?%;font-size:%?28?%}.channel_label[data-v-72ab85d4]{margin-bottom:%?5?%}.no_chain[data-v-72ab85d4]{display:flex;align-items:center;justify-content:center;font-size:%?30?%}.load_more[data-v-72ab85d4]{padding:%?50?% 0 %?80?%}",""]),t.exports=e},f183:function(t,e,n){var a=n("d012"),i=n("861d"),o=n("5135"),r=n("9bf2").f,s=n("90e3"),l=n("bb2f"),u=s("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(t){r(t,u,{value:{objectID:"O"+ ++c,weakData:{}}})},v=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},h=function(t,e){if(!o(t,u)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},p=function(t){return l&&b.REQUIRED&&d(t)&&!o(t,u)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:v,getWeakData:h,onFreeze:p};a[u]=!0}}]);